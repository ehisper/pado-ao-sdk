# pado-ao-sdk


## Overview

This is PADO AO SDK of PADO Network for dapps developer. PADO Network consists of three parts, the other two parts are:

- [PADO AO Processes](https://github.com/pado-labs/pado-ao-process)
- [PADO Nodes](https://github.com/pado-labs/pado-network)


## Features

- **Upload Data**

Data Provider can upload encrypted data through dapp developed based on PADO SDK and set data prices at the same time. The data encrypted by the FHE algorithm and the PADO Node public key will be uploaded to Arweave, and the data information will be registered to AO's Data Registry Process.

- **Submit Task**

Data User submits computation tasks with Data User Public Key through the dapp developed based on PADO SDK, and pays a certain computation and data fee. The computation tasks will be submitted to AO's Task Process.

- **Get Data**

Data User obtains encrypted data from Arweave, obtains task results and data information from Process, and then uses the FHE algorithm and Data User Public Key in the SDK to decrypt the results.


## Building

```sh
npm install
npm run build
```

## Quick Start

- [demos](./src/demo/README.md).


## API


For Data Provider:

- uploadData


For Data User:

- generateKey
- submitTask
- getResult
- submitTaskAndGetResult


```ts
/**
* Encrypt data and upload data
*
* @param data - plain data need to encrypt and upload
* @param dataTag - the data meta info
* @param priceInfo - The data price symbol and price
* @param wallet - The ar wallet
* @param arweave - The ar object and default is ar production
* @returns The uploaded encrypted data id
*/
export declare const uploadData: (data: Uint8Array, dataTag: any, priceInfo: PriceInfo, wallet: any, arweave?: Arweave) => Promise<string>;
/**
 * Generate key pair for encrypt/decrypt
 *
 * @returns The key-pair object
 */
export declare const generateKey: () => Promise<any>;
/**
 * Submit a task to AO
 *
 * @param dataId - The data id
 * @param dataUserPk - The user's public key generated by keygen
 * @param wallet - The ar wallet
 * @returns The submited task id
 */
export declare const submitTask: (dataId: string, dataUserPk: string, wallet: any) => Promise<string>;
/**
 * Get the result of the task
 *
 * @param taskId The task id
 * @param dataUserSk - The user's secret key generated by keygen
 * @param arweave - The ar object and default is ar production
 * @param timeout Timeout in milliseconds (default: 10 seconds)
 * @returns The data
 */
export declare const getResult: (taskId: string, dataUserSk: string, arweave?: Arweave, timeout?: number) => Promise<Uint8Array>;
/**
 * Submit a task to AO and get the result. The combination of submitTask and getResult
 *
 * @param dataId - The data id
 * @param pk - The user's public key generated by keygen
 * @param sk - The user's secret key generated by keygen
 * @param wallet - The ar wallet
 * @param arweave - The ar object and default is ar production
 * @param timeout Timeout in milliseconds (default: 10 seconds)
 * @returns The data
 */
export declare const submitTaskAndGetResult: (dataId: string, pk: string, sk: string, wallet: any, arweave?: Arweave, timeout?: number) => Promise<Uint8Array>;
```
